<div class="row">
    <h4 class="frame-title">{{msg('csd.web.csd.title')}}</h4>
    <div class="inside">

        <div ng-repeat="error in errors track by $index" class="alert alert-danger alert-block">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            {{error}}
        </div>
        <div ng-repeat="message in messages track by $index" class="alert alert-success alert-block">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            {{message}}
        </div>

        <div class="form-horizontal inside">
            <div class="row">
                <div class="panel-group">
                    <div class="panel panel-default">
                        <div class="form-group margin-before2">
                            <label class="col-md-2 control-label" for="xmlUrl">{{msg('csd.web.settings.xmlUrl')}}</label>
                            <div class="col-md-8" data-toggle="tooltip" data-placement="top" data-trigger="hover">
                                <select class="form-control" id="xmlUrl" ng-model="xmlUrl" ng-disabled="isFetchingCSD"
                                        ng-options="config.xmlUrl as config.xmlUrl for config in configs">
                                </select>
                            </div>
                            <div class="col-md-2" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('csd.web.csd.fetch.tooltip')}}">
                                <button type="button" class="col-md-10 btn btn-primary" ng-click="fetch()"
                                        ng-disabled="isFetchingCSD || isLoadingXml || isDownloadingXml || !hasConfig">
                                    {{msg('csd.web.csd.fetch')}} <i class="fa fa-refresh fa-spin" ng-show="isFetchingCSD"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel-group">
                    <div class="panel panel-default">

                        <div class="form-group margin-before">
                            <div class="margin-left2">
                                <h4 class="frame-title">{{msg('csd.web.csd.structure')}}</h4>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-2 margin-left2">
                                <div data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('csd.web.csd.showXml.btn.tooltip')}}">
                                    <button target="_self" href="#showXmlModal" type="button" class="col-md-12 btn btn-default" data-toggle="modal"
                                            data-backdrop="static" ng-click="showXml()" ng-disabled="isFetchingCSD || isDownloadingXml">
                                        {{msg('csd.web.csd.showXml.btn')}} <i class="fa fa-refresh fa-spin" ng-show="isLoadingXml"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-2 margin-left2">
                                <div data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('csd.web.csd.downloadXml.btn.tooltip')}}">
                                    <button type="button" class="col-md-12 btn btn-default" ng-disabled="isFetchingCSD || isLoadingXml || isDownloadingXml" ng-click="downloadXml()">
                                        {{msg('csd.web.csd.downloadXml.btn')}} <i class="fa fa-refresh fa-spin" ng-show="isDownloadingXml"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div ng-include="'../csd/resources/partials/modals/show-xml.html'"></div>
</div>
